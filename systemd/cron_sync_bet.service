[Unit]
Description=Swoole HTTP Worker (%i)
After=network.target

[Service]
Type=simple
WorkingDirectory=/var/app/current
ExecStart=/usr/bin/php /var/app/current/worker.php
Restart=always
RestartSec=2
LimitNOFILE=1048576
Environment=SERVER_HOST=0.0.0.0 SERVER_PORT=9501 WORKER_NUM=8 MAX_COROUTINES=100000 MAX_CONCURRENCY=2000 GLOBAL_RPS=5000
# Kernel tweaks should be in sysctl.d (see README).

[Install]
WantedBy=multi-user.target